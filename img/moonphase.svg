<svg width="640" height="640" viewBox="0 0 640 640" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <radialGradient id="bg" cx="50%" cy="50%" r="60%">
      <stop offset="0%" stop-color="#0b0e14"></stop>
      <stop offset="100%" stop-color="#000"></stop>
    </radialGradient>

    <radialGradient id="moonTex" cx="50%" cy="45%" r="55%">
      <stop offset="0%" stop-color="#f2f2f2"></stop>
      <stop offset="55%" stop-color="#d8d8d8"></stop>
      <stop offset="100%" stop-color="#bcbcbc"></stop>
    </radialGradient>

    <filter id="craters" x="-20%" y="-20%" width="140%" height="140%">
      <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" seed="7" result="n"></feTurbulence>
      <feColorMatrix in="n" type="saturate" values="0"></feColorMatrix>
      <feComponentTransfer>
        <feFuncA type="table" tableValues="0 0.9"></feFuncA>
      </feComponentTransfer>
      <feGaussianBlur stdDeviation="1.2"></feGaussianBlur>
      <feBlend in="SourceGraphic" mode="overlay"></feBlend>
    </filter>

    <filter id="terminatorSoft" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="8"></feGaussianBlur>
    </filter>

    <mask id="phaseMask">
      <rect width="640" height="640" fill="black"></rect>
      <circle id="litDisc" cx="320" cy="320" r="220" fill="white"></circle>
      <g filter="url(#terminatorSoft)">
        <circle id="shadow" cx="120" cy="320" r="220" fill="black">
          <animate attributeName="cx" values="120;320;520;320;120" dur="8s" repeatCount="indefinite"></animate>
        </circle>
      </g>
    </mask>
  </defs>

  <rect width="640" height="640" fill="url(#bg)"></rect>

  <g transform="translate(0,0)">
    <circle cx="320" cy="320" r="220" fill="url(#moonTex)" filter="url(#craters)" mask="url(#phaseMask)"></circle>
    <circle cx="320" cy="320" r="222" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="2"></circle>
  </g>
</svg>
